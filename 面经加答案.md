# zj
## 项目
- 1.询问SSO系统是什么样的？
    - 1. 用户访问系统A，若未携带jwt，则判断用户未登录，携带系统A的redirect_uri和client_id，将其重定向到SSO系统
    - 2. 用户在SSO系统输入账号和密码之后，SSO系统会用私钥生成并颁布访问令牌和刷新令牌，并将其重定向回系统A，系统A会用公钥验证令牌
    - 3. 前端拿到访问令牌和刷新令牌后会存起来，后续访问系统B时会携带访问令牌
    - 4. 系统B拿到令牌，用公钥验证令牌合理性 
    - 5. 如果不合法，如超时，则告诉前端，前端再拿着刷新令牌（如果有的话）访问SSO，获取新令牌

- 2.加密算法有哪些？对称加密非对称加密？
    - 1. 我的项目中使用的是非对称加密 ES256（ECDSA - SHA256），是预先配置在后端服务中的，私钥放在SSO服务中，公钥分发给各个服务。ES256安全性强，长度短所以资源消耗小，计算效率高
    - 2. 区别：对称加密，加解密用相同的密钥；非对称加密，公钥加密，只有私钥能解密。
    - 3. 常见加密算法：对称：DSE，AES；非对称：RSA，DSA，ECDSA;

- 3.如何防止二次支付？
    - 支付幂等性
    - 前端ban按钮
    - 雪花算法生成唯一订单ID
    - 分布式锁保证同一订单的一个状态过程只有一个结点处理
    - 将调用支付接口和更新订单状态放在一个事务中
    - 状态机设计，如果订单状态为paid，后续任何支付会报错
    - DelayQueue验证订单状态

- 4.一堆我完全没考虑过的问题？ 

## 八股
- 1.你们项目用的JDK几，新特性？ 
    - 密封类sealed，只允许特定的子类继承或实现
    - 统一的日志api
- 2.你知道JDK17用的什么垃圾回收器吗？ 
    - G1回收器
- 3.介绍一下这个垃圾回收器 
    - 基于“标记-整理”算法实现
    - G1回收的范围是整个Java堆(包括新生代，老年代)
- 4.新生代和老年代都用的标记整理算法吗？ 
    - 是
- 5.你知道这个垃圾回收器回收过程中哪些是阻塞的哪些不是吗？ 
    - 初始标记阶段和再标记阶段是阻塞的，
- 6.为什么第二阶段是并发的，第三阶段是阻塞的？
- 7.mysql事务的特性 ?
- 8.如何保证redis和mysql数据缓存一致性问题？ 
- 9.你知道先更新数据库，再删除缓存，什么时候会出现数据不一致吗？ 
- 10.http用的什么版本？
- 11.你知道http协议和tcp协议有什么区别吗？
- 12.http协议优化方面做了哪些？
- 13.tcp协议优化方面做了哪些？

## 算法
- 两个有序数组找第K大的数字 
- 时间复杂度 
- 优化方法 

# mt

